# 飞行坐标更新说明

## 🎯 坐标变更

### 新的起始位置
- **纬度**: 36.221109°N
- **经度**: 106.319248°E
- **高度**: 1000m (基准高度)

### 原始位置 (已更新)
- ~~纬度: 39.9093°N (北京天安门)~~
- ~~经度: 116.3974°E (北京天安门)~~

## 📁 已更新的文件

### 测试脚本
1. **`test-uav-fly-status-simulation.js`** - 完整飞行模拟器
2. **`test-simple-uav-track.js`** - 简化航迹模拟器
3. **`test-protocol-format.js`** - 协议格式测试
4. **`test-minimal-uav.js`** - 最小化测试
5. **`test-single-uav-packet.js`** - 单包测试
6. **`test-validated-uav-data.js`** - 验证测试
7. **`test-invalid-uavid.js`** - 无效ID测试
8. **`test-heartbeat-packets.js`** - 心跳包测试

### 文档
1. **`UAV_SIMULATION_README.md`** - 模拟器说明文档

## 🗺️ 飞行区域

### 完整模拟器
- **起始点**: 36.221109°N, 106.319248°E
- **飞行模式**: 围绕起始点的动态飞行
- **航向变化**: 每30秒随机调整 ±30度
- **位置变化**: 基于速度和航向的连续移动
- **覆盖范围**: 约 ±0.01度 (约1km范围)

### 简化模拟器
矩形航迹路径：
```
起始点: 36.221109°N, 106.319248°E (1000m)
   ↓ 北飞 (+0.01°纬度)
航点2: 36.231109°N, 106.319248°E (1100m)
   ↓ 东飞 (+0.01°经度)  
航点3: 36.231109°N, 106.329248°E (1200m)
   ↓ 南飞 (-0.01°纬度)
航点4: 36.221109°N, 106.329248°E (1100m)
   ↓ 西飞 (-0.01°经度)
回到起始点: 36.221109°N, 106.319248°E (1000m)
```

## 📊 坐标范围

### 纬度范围
- **最小**: 36.211109°N (起始点 -0.01°)
- **最大**: 36.231109°N (起始点 +0.01°)
- **跨度**: 约 1.11 km

### 经度范围  
- **最小**: 106.309248°E (起始点 -0.01°)
- **最大**: 106.329248°E (起始点 +0.01°)
- **跨度**: 约 0.89 km (在该纬度下)

### 高度范围
- **最小**: 900m (起始高度 -100m)
- **最大**: 1300m (起始高度 +300m)
- **基准**: 1000m

## 🧪 测试验证

### 简化模拟器测试结果
```bash
node testScipt/test-simple-uav-track.js
```

**输出示例**:
```
🚁 无人机航迹模拟器启动
📡 组播地址: 239.255.43.21:10086
🆔 无人机ID: 1
🗺️  航迹点数: 5
📍 起始坐标: 36.221109°N, 106.319248°E

[13:42:01] ✅ 发送航迹数据
  📍 坐标: 36.221109, 106.319248
  🛩️  高度: 1000.0m | 航点: 1/5 (0.0%)
```

### 完整模拟器特点
- 连续的位置更新
- 动态航向变化
- 真实的飞行物理模拟
- 围绕新坐标点的飞行轨迹

## 🎯 应用场景

这个新的坐标位置适用于：
- 特定地理区域的飞行测试
- 本地化的航迹模拟
- 区域性的无人机监控系统测试
- 自定义飞行区域的数据验证

## 💡 使用建议

1. **测试前确认**: 确保接收端能正确显示新的坐标范围
2. **地图显示**: 如果有地图显示功能，调整地图中心点到新坐标
3. **边界检查**: 验证系统对新坐标范围的边界处理
4. **精度验证**: 确认坐标精度满足应用需求

## 🔄 回滚方法

如需回滚到原始坐标，可以批量替换：
- `36.221109` → `39.9093`
- `106.319248` → `116.3974`

或者使用 git 回滚到更新前的版本。