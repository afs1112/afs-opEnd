# 数据包复制功能说明

## 🎯 功能概述

在组播监听页面中，现在可以方便地复制接收到的数据包信息，支持多种格式和批量操作。

## 📋 复制功能

### 单个数据包复制

每个数据包右上角都有一个"复制"下拉按钮，提供以下选项：

#### 1. 复制原始数据
- **格式**: Base64编码的原始二进制数据
- **用途**: 可以在其他工具中还原为原始二进制数据
- **示例**: `qFUBAZYAAACAEhsJjNtoAG8ZXUARXCBhQBkAAAAAAAAAAA==`

#### 2. 复制十六进制
- **格式**: 空格分隔的十六进制字符串
- **用途**: 便于调试和分析数据包结构
- **示例**: `aa 55 01 01 96 00 00 00 08 01 12 1b 09 8c db 68 00 6f 19 5d 40 11 5c 20 61 40 19 00 00 00 00 00 00 00 00`

#### 3. 复制解析数据
- **格式**: JSON格式的解析后数据
- **用途**: 查看结构化的数据内容
- **条件**: 仅在数据包成功解析时可用

#### 4. 复制完整信息
- **格式**: 包含所有信息的JSON对象
- **包含内容**:
  - 序号、时间、源地址
  - 原始数据（十六进制和Base64）
  - 解析信息（如果有）

### 批量复制功能

在数据包列表标题栏的"批量复制"按钮提供：

#### 1. 复制所有解析数据
- 复制所有成功解析的数据包的结构化数据
- 按时间顺序排列，包含序号和时间戳

#### 2. 复制所有十六进制
- 复制所有数据包的十六进制表示
- 包含序号、时间和源地址信息

#### 3. 复制所有完整信息
- 复制所有数据包的完整信息
- 包含原始数据和解析数据（如果有）

#### 4. 复制数据包摘要
- 生成统计摘要信息
- 包含：
  - 总数据包数、解析成功数
  - 包类型统计
  - 配置信息
  - 最新数据包信息

## 🔧 使用方法

### 复制单个数据包
1. 在数据包列表中找到要复制的数据包
2. 点击右上角的"复制"按钮
3. 从下拉菜单中选择复制格式
4. 数据自动复制到剪贴板，显示成功提示

### 批量复制
1. 点击数据包列表标题栏的"批量复制"按钮
2. 选择要复制的数据类型
3. 所有符合条件的数据包信息被复制到剪贴板

### 快速复制
- 在解析数据和十六进制数据区域，有独立的复制按钮
- 点击即可快速复制对应内容

## 📊 数据格式示例

### 完整信息格式
```json
{
  "序号": 1,
  "时间": "2024/1/15 14:30:25",
  "源地址": "192.168.1.100:56162",
  "数据大小": 158,
  "原始数据_十六进制": "aa 55 01 01 96 00 00 00 08 01 12 1b...",
  "原始数据_Base64": "qFUBAZYAAACAEhsJjNtoAG8ZXUARXCBhQBk...",
  "解析信息": {
    "包类型": "PackType_Flystatus",
    "类型码": "0x01",
    "协议ID": "0x01",
    "解析数据": {
      "uavID": 1,
      "coord": {
        "longitude": 116.3974,
        "latitude": 39.9093,
        "altitude": 1000
      },
      "attitudeInfo": {
        "roll": 2.5,
        "pitch": 1.2,
        "yaw": 45.0,
        "speed": 120.5
      }
    }
  }
}
```

### 摘要信息格式
```json
{
  "统计时间": "2024/1/15 14:30:25",
  "总数据包数": 25,
  "已解析数据包数": 23,
  "平台状态数据包数": 5,
  "配置信息": {
    "组播地址": "239.255.43.21",
    "端口": 10086,
    "接口地址": "0.0.0.0"
  },
  "包类型统计": {
    "PackType_Flystatus": 18,
    "PackType_PlatformStatus": 5,
    "未解析": 2
  },
  "最新数据包": {
    "时间": "2024/1/15 14:30:24",
    "源地址": "192.168.1.100:56162",
    "大小": 158
  }
}
```

## 💡 使用技巧

1. **调试协议**: 使用十六进制复制功能分析数据包结构
2. **数据分析**: 使用解析数据复制功能进行数据分析
3. **问题报告**: 使用完整信息复制功能提供详细的问题报告
4. **统计分析**: 使用摘要复制功能了解整体数据情况
5. **批量处理**: 使用批量复制功能导出大量数据进行离线分析

## ⚠️ 注意事项

1. **剪贴板限制**: 大量数据可能受到系统剪贴板大小限制
2. **浏览器兼容性**: 复制功能需要现代浏览器支持
3. **数据安全**: 复制的数据可能包含敏感信息，请注意保护
4. **性能考虑**: 批量复制大量数据包可能需要一些时间

## 🔄 更新日志

- **v1.0**: 添加基本的单个数据包复制功能
- **v1.1**: 添加批量复制和摘要统计功能
- **v1.2**: 优化复制格式，添加快速复制按钮